{% extends "base.html" %}
{% import "bootstrap/form.html" as wtf %}

{% block head %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/user.css">
{% endblock %}

{% block content %}



    <div class="container-fluid">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in get_flashed_messages() %}
                    <div class="alert alert-warning">
                        <button type="button" class="close" data-dismiss="alert" aria-label="close">x</button>
                        {{message}}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

    </div>



    <!-- Form rendering is simple and easy if using bootstrap -->
    <div class="container" id="mainBox">
        <div class="p-4"></div>
        <div class="p-2"></div>
        <h1>{{ heading }}</h1>
        <hr>
        <div class="p-2"></div>
        <!-- When you have login form, then do show the user a link to register -->
        <form method="post" enctype="multipart/form-data" action>
            {{ form.csrf_token }}

            {% if heading|lower =='login' %}
                    <label for="user_name">Username: </label>
                    {{ form.user_name(class_="form-control", placeholder="Username") }}
                    <div class="p-1"></div>
                    <label for="password">Password: </label>
                    {{ form.password(class_="form-control", placeholder="Password") }}
                    <br>

                    {{ form.submit(class_="btn btn-primary btn-md") }}
                    <div class="p-1"></div>
                    <p>New user? <a href="{{ url_for('auth.register') }}">Click here to register</a>.</p>
                    <div class="p-4"></div>
                    <div class="p-3"></div>
            {% else %}
                <label for="user_name">Username: </label>
                {{ form.user_name(class_="form-control", placeholder="Username") }}
                <div class="p-1"></div>

                <div class="row">
                    <div class="col-sm-6 col-xs-12">
                        <label for="first_name">First name: </label>
                        {{ form.first_name(class_="form-control", placeholder="First name") }}
                        <div class="p-1"></div>
                    </div>
                    <div class="col-sm-6 col-xs-12">
                        <label for="last_name">Last name: </label>
                        {{ form.last_name(class_="form-control", placeholder="Last name") }}
                        <div class="p-1"></div>
                    </div>
                    
                </div>
                

                

                <label for="email_id">Email: </label>
                {{ form.email_id(class_="form-control", placeholder="Email") }}
                <div class="p-1"></div>

                <label for="number">Phone number: </label>
                {{ form.number(class_="form-control", placeholder="Phone number") }}
                <div class="p-1"></div>

                <label for="password">Password: </label>
                {{ form.password(class_="form-control", placeholder="Password") }}
                <div class="p-1"></div>

                <label for="confirm">Confirm password: </label>
                {{ form.confirm(class_="form-control", placeholder="Confirm password") }}

                <br>

                {{ form.submit(class_="btn btn-primary btn-md") }}
                <div class="p-1"></div>
                <p>Already have an account? <a href="{{ url_for('auth.login') }}">Click here to log in</a>.</p>
            {% endif %}
        </form>
    </div>

    

{% endblock %}